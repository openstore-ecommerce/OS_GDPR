<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
</head>
<body>

    <header class="w3-container w3-theme w3-padding" id="myHeader">
        <div class="w3-center">
            <h4>Make OpenStore GDPR complient</h4>
            <h1 class="w3-xxxlarge w3-animate-bottom">OpenStore GDPR</h1>
            <div class="w3-padding-32">
                <a href="https://www.openstore-ecommerce.com/" target="_blank" class="w3-btn w3-xlarge w3-dark-grey w3-hover-light-grey" style="font-weight:900;">OpenStore</a>
            </div>
        </div>
    </header>

    <div class="w3-row w3-padding">
        This plugin is designed to make OpenStore comply with European GDPR rules.  European GDPR rules make retension and use of personal data restricted.  Any personal data over 3 years, from an account that has not been active, should be removed from the database.<br />
    </div>

    <div class="w3-row w3-padding">
        <h3>User/Account Personal Data</h3>
        <p>
            Any users which have not be active for a selected amount of time (900 days default) will be listed for removal.
            The manager will then be able to decide to remove all users or selected users from the system.
        </p>
        <div class="w3-row">
            <i>NOTES:</i><br />
            An option for automatic removal is available.<br />
            If the user remove limit is < 60 days, the user remove limit will increased to 60 days.<br />
        </div>
    </div>

    <div class="w3-row w3-padding">
        <h3>Orders</h3>
        <p>
            Orders also contain personal data. After an order is older than the remove limit (900 days default) the personal details are removed from the order.
        </p>
        <div class="w3-row">
            <i>NOTES:</i><br />
            The order is retained in the database for statistical and financial reports.<br />
            If the order remove limit is < 60 days, the order remove limit will increased to 60 days for removing personal data.  This is so no required data for order processing is removed by accident.<br />
        </div>
    </div>
    <div class="w3-row w3-padding">
        <h3>Orders without Client</h3>
        <p>
            Some installations of OpenStore do not have users.  In these cases personal data is still linked to the Order.  This plugin will mask any personal data of all orders after the retension time.<br />
            If an Order needs to be removed becuase the client has demanded it to be removed, the manager can edit the order to remove the personal data.
        </p>
        <div class="w3-row">
            <i>NOTES:</i><br />
            Orders in OpenStore cannot be deleted by the UI, this is on purpose to ensure a history of orders is kept.  The orders can be deleted from the DB by the website master. <br>
            <div class="w3-code">
                select * from [NBrightBuy] where XMLData.value('(genxml/billaddress/genxml/textbox/email)[1]','nvarchar(max)') like '%xxxx%'<br />
                <br />
                begin tran<br />
                delete [NBrightBuy] where itemid = 1234<br />
                rollback / commit<br />
            </div>
        </div>
    </div>

    <div class="w3-row w3-padding">
        <h3>User Interface</h3>
        <div class="w3-row">
            <div class="w3-quarter w3-padding">
                <img src="/desktopmodules/nbright/os_gdpr/docs/menu.png" style="width:50%;" />
            </div>
            <div class="w3-threequarter w3-padding">
                <img src="/desktopmodules/nbright/os_gdpr/docs/ui.png" style="width:100%;" />
                <table class="w3-table w3-padding">
                    <tr>
                        <td>Save Button</td>
                        <td>Saves the UI settings.</td>
                    </tr>
                    <tr>
                        <td>Execute Button</td>
                        <td>Manually runs the selection of users to be removed.  If the scheduler has been setup the selection of users will run once a day.</td>
                    </tr>
                    <tr>
                        <td>Active Checkbox</td>
                        <td>Activate/Disactivate the execution of user selection.</td>
                    </tr>
                    <tr>
                        <td>Auto remove Users Checkbox</td>
                        <td>If the scheduler is activated, the users can be automatically removed from the system without manual interaction by a user.</td>
                    </tr>
                    <tr>
                        <td>Remove Limit (Days)</td>
                        <td>The number of days to search for inactive client.  The selection is based on the last login date.  GDPR requires a maximum of 3 years inactivity to retain personal data.  But this should be checked based on your business operations.</td>
                    </tr>
                    <tr>
                        <td>Order Limit (Days)</td>
                        <td>The number of days to search for orders that need the details removed.  This setting will be ignored by orders that have an attached client.  This setting is normally used for e-commerce websites that do not have registered users or where users have been deleted not using the OS_GDPR plugin.  </td>
                    </tr>
                    <tr>
                        <td>Select User by Email</td>
                        <td>
                            This option allows the manager to removed all personal data for a client, if they request it.  There is no time limit on this option.  If a client asked for removal of data, all data will be removed from what ever date.<br />
                            <b>NOTE: If an order is still being processed for a client, this option should NOT be used until the order has finished being processed.</b>
                        </td>
                    </tr>
                    <tr>
                        <td>Last Run</td>
                        <td>The last time the selection of expired users was ran.</td>
                    </tr>
                    <tr>
                        <td>Delete All Button</td>
                        <td>Delete ALL selected user.</td>
                    </tr>
                    <tr>
                        <td>Delete User Button</td>
                        <td>Delete ONLY the user selected.</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="w3-row w3-padding">
        <h3>Debug Mode</h3>
        <p>
            Administrators can activate "DEBUG MODE".  While in debug mode no users or orders will be updated or deleted.<br />
            A log file is created in the "/Portals/_default/OS_GDPRLogs" folder.
        </p>
    </div>

    <div class="w3-row w3-padding">
        <h3>Process Limit 500</h3>
        <p>
            The plugin will only process 500 users and order it 1 run.  This is to stop the process from crashing te system.  If more users or orders need to be removed, the process will need to be executed multiple time.
        </p>
    </div>

    <div class="w3-row w3-padding">
        <h3>Scheduler</h3>
        <div class="w3-row w3-padding">
            The OpenStore DNN scheduler can be setup to automaticaly run the expired user selection.<br />
            <a href="https://doc.openstore-ecommerce.com/#11498" target="_blank">Scheduler Setup</a>
            <p>
                The scheduler will run the selected between 02:00 and 03:00 to minimise affects to the website.  If the auto removal option has been selected the scheduler must be setup for the clients to be removed.
            </p>
            <table class="w3-table">
                <tr>
                    <td>Namespace and class</td>
                    <td>OpenStore.Providers.OS_GDPR.Scheduler</td>
                </tr>
                <tr>
                    <td>Assembly</td>
                    <td>OS_GDPR</td>
                </tr>
            </table>
            <div class="w3-row">
                <p>Admin > Extensions</p>
                <div class="w3-row w3-padding w3-center">
                    <img src="/desktopmodules/nbright/os_gdpr/docs/pluginlist.png" style="width:90%;" />
                </div>
                <div class="w3-row w3-padding">
                    <img src="/desktopmodules/nbright/os_gdpr/docs/SchedulerOff.png" style="width:90%;" />
                </div>
            </div>
        </div>

    </div>

    <div class="w3-row w3-padding">
        <h3>Administrator rights</h3>
        <p>
            Only the Administrator role can alter the retension limit for users and order.  They can also put the system into debug mode.
        </p>
    </div>

</body>
</html>